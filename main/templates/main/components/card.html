<div class="relative bg-white rounded-2xl shadow-lg overflow-hidden border border-gray-100 hover:shadow-xl transition">
    <a href="{% url 'game_detail' game.pk %}">
    {% if game.image %}
        <div class="relative">
            <img src="{{ game.image.url }}" alt="{{ game.name }}" class="h-48 w-full object-contain mx-auto p-4">
            {% if game.is_new %}
                <span class="absolute top-2 right-2 bg-red-500 text-white text-sm font-semibold px-2 py-1 rounded">–ù–æ–≤–∏–Ω–∫–∞</span>
            {% endif %}
            {% if game.is_best %}
                <span class="absolute top-2 right-2 bg-yellow-500 text-gray-900 text-sm font-semibold px-2 py-1 rounded">–•–∏—Ç</span>
            {% endif %}
            {% if game.discount_percent > 0 %}
                <span class="absolute top-2 right-2 bg-yellow-400 text-gray-800 text-xs font-semibold px-2 py-1 rounded">-{{ game.discount_percent }}%</span>
            {% endif %}
        </div>
    {% else %}
        <div class="h-48 w-full bg-gray-200 flex items-center justify-center text-gray-500 p-4">
            –ù–µ—Ç –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
        </div>
    {% endif %}
    </a>
    <a href="{% url 'toggle_favorite' game.pk %}" class="absolute top-2 left-2 text-red-500 hover:text-yellow-500" title="–ò–∑–±—Ä–∞–Ω–Ω–æ–µ">
        {% if game.pk|stringformat:"s" in request.session.favorites %}
            ‚ù§Ô∏è
        {% else %}
            ü§ç
        {% endif %}
    </a>

    <div class="p-4">
        <a href="{% url 'game_detail' game.pk %}">
        <h3 class="font-bold text-lg mb-2 text-gray-800">{{ game.name }}</h3>

        <div class="text-sm text-gray-500 mb-4 flex items-center flex-wrap gap-2">
            <span class="flex items-center gap-1">
                {{ game.players }}

                <svg xmlns="http://www.w3.org/2000/svg" fill="none" class="w-5 h-5 inline" viewBox="0 0 35 27"><path d="M5.6 12.6C7.15 12.6 8.4 11.35 8.4 9.8C8.4 8.25 7.15 7 5.6 7C4.05 7 2.8 8.25 2.8 9.8C2.8 11.35 4.05 12.6 5.6 12.6Z" stroke="#4F4F4F" stroke-width="2"/><path d="M8.3 23.6H2.6C1.7 23.6 1.1 22.9 1.1 22V19.2C1.1 17 2.8 15.3 5 15.3H8.5" stroke="#4F4F4F" stroke-width="2"/><path d="M17.6 10C20.03 10 22 8.03 22 5.6C22 3.17 20.03 1.2 17.6 1.2C15.17 1.2 13.2 3.17 13.2 5.6C13.2 8.03 15.17 10 17.6 10Z" stroke="#4F4F4F" stroke-width="2"/><path d="M24.1 25.2H10.7C9.3 25.2 8.2 24.1 8.2 22.7V18.4C8.2 15 11.1 12.2 14.6 12.2H20.3C23.8 12.2 26.7 15 26.7 18.4V22.7C26.6 24.1 25.5 25.2 24.1 25.2Z" stroke="#4F4F4F" stroke-width="2"/><path d="M29 12.6C30.55 12.6 31.8 11.35 31.8 9.8C31.8 8.25 30.55 7 29 7C27.45 7 26.2 8.25 26.2 9.8C26.2 11.35 27.45 12.6 29 12.6Z" stroke="#4F4F4F" stroke-width="2"/><path d="M26.3 23.6H32C32.9 23.6 33.5 22.9 33.5 22V19.2C33.5 17 31.8 15.3 29.6 15.3H26.1" stroke="#4F4F4F" stroke-width="2"/></svg>
            </span>

            <span class="flex items-center gap-1">
                {{ game.duration }}
                <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5 inline fill-current" viewBox="0 0 32 32"><path d="M16 29A13 13 0 1 1 29 16 13 13 0 0 1 16 29ZM16 5A11 11 0 1 0 27 16 11 11 0 0 0 16 5Z"/><path d="M21.5 22.5a1 1 0 0 1-.71-.29l-5.5-5.5A1 1 0 0 1 15 16V8a1 1 0 0 1 2 0v7.59l5.21 5.2a1 1 0 0 1 0 1.42 1 1 0 0 1-.71.29Z"/></svg>
            </span>

            <span>{{ game.age }}+</span>
        </div>

        </a>

        <div class="flex justify-between items-center mt-4">
            <div class="text-indigo-900 font-bold text-lg">{{ game.price }} ‚Ç∏</div>
            {% include 'main/components/cart_button.html' %}
        </div>
    </div>
</div>

