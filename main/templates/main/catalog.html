{% extends 'main/base.html' %}
{% block title %}–ö–∞—Ç–∞–ª–æ–≥{% endblock %}
{% block content %}

<div class="container mx-auto px-4 py-8">
    <h1 class="text-3xl font-bold mb-8 text-center">–ö–∞—Ç–∞–ª–æ–≥ –Ω–∞—Å—Ç–æ–ª—å–Ω—ã—Ö –∏–≥—Ä</h1>

    <div class="grid grid-cols-1 md:grid-cols-4 gap-6">

        <!-- Sidebar -->
        <aside class="md:col-span-1 bg-white p-6 rounded-xl shadow border border-gray-100 space-y-6">

            <!-- –ü–æ–∏—Å–∫ -->
            <form method="get" class="space-y-4">

                <!-- –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ -->
                <div>
                    <h3 class="font-semibold text-red-500 mb-2">–ö–∞—Ç–µ–≥–æ—Ä–∏–∏</h3>
                    <select name="category" class="w-full px-3 py-2 border rounded text-sm">
                        <option value="">–í—Å–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏</option>
                        {% for cat in categories %}
                            <option value="{{ cat.id }}" {% if selected_category == cat.id %}selected{% endif %}>
                                {{ cat.name }}
                            </option>
                        {% endfor %}
                    </select>
                </div>

                <!-- –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ -->
                <div>
                    <h3 class="font-semibold text-yellow-500 mb-2">–°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞</h3>
                    <select name="sort" class="w-full px-3 py-2 border rounded text-sm">
                        <option value="">–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é</option>
                        <option value="price_asc" {% if sort == 'price_asc' %}selected{% endif %}>–°–Ω–∞—á–∞–ª–∞ –¥–µ—à–µ–≤—ã–µ</option>
                        <option value="price_desc" {% if sort == 'price_desc' %}selected{% endif %}>–°–Ω–∞—á–∞–ª–∞ –¥–æ—Ä–æ–≥–∏–µ</option>
                        <option value="new" {% if sort == 'new' %}selected{% endif %}>–ù–æ–≤–∏–Ω–∫–∏</option>
                        <option value="discount" {% if sort == 'discount' %}selected{% endif %}>–°–æ —Å–∫–∏–¥–∫–∞–º–∏</option>
                    </select>
                </div>

                <!-- –ö–Ω–æ–ø–∫–∞ -->
                <button type="submit" class="w-full bg-red-500 hover:bg-yellow-500 text-white py-2 rounded font-semibold text-sm transition">
                    –ü—Ä–∏–º–µ–Ω–∏—Ç—å
                </button>
            </form>
        </aside>

        <!-- –¢–æ–≤–∞—Ä—ã -->
        <section class="md:col-span-3">
            {% if games %}
                <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">
                    {% for game in games %}
                        {% include 'main/components/card.html' %}
                    {% endfor %}
                </div>
            {% else %}
                <p class="text-center text-gray-500 mt-12">–ò–≥—Ä—ã –Ω–µ –Ω–∞–π–¥–µ–Ω—ã üò¢</p>
            {% endif %}
        </section>
    </div>
</div>

{% endblock %}
